<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="common/css/sf.css" rel="stylesheet" type="text/css"/>
<title>Stlc: ç®€å•ç±»å‹ Lambda-æ¼”ç®—</title>
</head>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/plf.css" rel="stylesheet" type="text/css"/>

<body>

<div id="page">

<div id="header">
<a href='https://coq-zh.github.io/SF-zh/index.html'>
<img src='common/media/image/sf_logo_sm.png'></a>
</br><a href='index.html'>  <span class='booktitleinheader'>Volume 2: ç¼–ç¨‹è¯­è¨€åŸºç¡€</span><br></br>
<ul id='menu'>
   <a href='toc.html'><li class='section_name'>ç›®å½•</li></a>
   <a href='coqindex.html'><li class='section_name'>ç´¢å¼•</li></a>
   <a href='deps.html'><li class='section_name'>è·¯çº¿</li></a>
</ul>
</a></div>

<div id="main">

<h1 class="libtitle">Stlc<span class="subtitle">ç®€å•ç±»å‹ Lambda-æ¼”ç®—</span></h1>


<div class="doc">

<div class="paragraph"> </div>

 ç®€å•ç±»å‹ lambda-æ¼”ç®—ï¼ˆsimply typed lambda-calculusï¼ŒSTLCï¼‰
    ä½œä¸ºä¸€ç§å°å‹æ¼”ç®—ç³»ç»Ÿä½“ç°äº†<b>å‡½æ•°æŠ½è±¡ï¼ˆfunctional abstractionï¼‰</b>è¿™ä¸ªé‡è¦æ¦‚å¿µï¼Œ
    å‡½æ•°æŠ½è±¡ä¹Ÿä»¥å¾ˆå¤šç§å½¢å¼ï¼ˆå‡½æ•°ï¼Œè¿‡ç¨‹ï¼Œæ–¹æ³•ç­‰ï¼‰å‡ºç°åœ¨çœŸå®ä¸–ç•Œçš„ç¨‹åºè¯­è¨€ä¸­ã€‚

<div class="paragraph"> </div>

    åœ¨å½¢å¼åŒ–è¿™ä¸ªæ¼”ç®—ç³»ç»Ÿï¼ˆè¯­æ³•ï¼Œå°æ­¥è¯­ä¹‰å’Œå®šå‹è§„åˆ™ï¼‰åŠå…¶ä¸»è¦æ€§è´¨ï¼ˆå¯è¿›æ€§å’Œä¿å‹æ€§ï¼‰æ—¶ï¼Œ
    æˆ‘ä»¬é‡‡ç”¨ä¸ä¸Šä¸€ç« ç›¸åŒçš„æµç¨‹ã€‚æ–°çš„æŠ€æœ¯æŒ‘æˆ˜æ¥è‡ªäº<b>å˜é‡ç»‘å®šï¼ˆvariable bindingï¼‰</b>
    å’Œ<b>æ›¿æ¢ï¼ˆsubstitutionï¼‰</b>ã€‚æˆ‘ä»¬å°†ä¼šè´¹ä¸€äº›åŠŸå¤«æ¥å¤„ç†ä»–ä»¬ã€‚
</div>
<div class="code code-tight">

<span class="id" type="keyword">Set</span> <span class="id" type="var">Warnings</span> "-notation-overridden,-parsing".<br/>
<span class="id" type="var">From</span> <span class="id" type="var">Coq</span> <span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">Strings.String</span>.<br/>
<span class="id" type="var">From</span> <span class="id" type="var">PLF</span> <span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">Maps</span>.<br/>
<span class="id" type="var">From</span> <span class="id" type="var">PLF</span> <span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">Smallstep</span>.<br/>
</div>

<div class="doc">
<a name="lab203"></a><h1 class="section">ç®€ä»‹</h1>

<div class="paragraph"> </div>

 STLC æ„å»ºäºä¸€äº›<b>åŸºç¡€ç±»å‹ï¼ˆbase typesï¼‰</b>çš„é›†åˆä¹‹ä¸Šï¼š
    å¸ƒå°”å€¼ï¼Œæ•°å­—ï¼Œå­—ç¬¦ä¸²ç­‰ã€‚å…·ä½“é€‰æ‹©å“ªäº›åŸºç¡€ç±»å‹å¹¶ä¸é‡è¦â€”â€”è¯­è¨€çš„æ„é€ å’Œå®ƒçš„ç†è®ºæ€§è´¨
    ä¸ä¼šå—åˆ°å½±å“â€”â€”å› æ­¤ç®€å•èµ·è§ï¼Œè®©æˆ‘ä»¬æš‚æ—¶åªä½¿ç”¨ <span class="inlinecode"><span class="id" type="var">Bool</span></span>ã€‚åœ¨æœ¬ç« çš„æœ€åï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°
    å¦‚ä½•æ·»åŠ æ›´å¤šçš„åŸºç¡€ç±»å‹ï¼Œåé¢çš„ç« èŠ‚æˆ‘ä»¬è¿˜ä¼šç”¨ä¸€äº›å®ç”¨çš„æ„é€ ï¼Œä¾‹å¦‚åºå¯¹ã€è®°å½•ã€å­ç±»å‹
    å’Œå¯å˜çŠ¶æ€æ¥æ‰©å±•çº¯ STLCã€‚

<div class="paragraph"> </div>

    æˆ‘ä»¬ä»¥å¸ƒå°”å€¼å¸¸é‡å’Œæ¡ä»¶è¯­å¥å¼€å§‹ï¼Œå¹¶æ·»åŠ ä¸‰ä¸ªæ„é€ ï¼š

<div class="paragraph"> </div>

<ul class="doclist">
<li> å˜é‡

</li>
<li> å‡½æ•°æŠ½è±¡

</li>
<li> åº”ç”¨

</li>
</ul>

<div class="paragraph"> </div>

    è¿™ç»™äº†æˆ‘ä»¬å¦‚ä¸‹çš„æŠ½è±¡è¯­æ³•æ„é€ ï¼ˆå…ˆä»¥éå½¢å¼åŒ–çš„ BNF è®°æ³•å†™ä¸‹â€”â€”åé¢æˆ‘ä»¬
    ä¼šå½¢å¼åŒ–å®ƒï¼‰ã€‚ 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">t</span>&nbsp;<span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>:</span>:</span>=</span>&nbsp;<span class="id" type="var">x</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">variable</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;\<span class="id" type="var">x</span>:<span class="id" type="var">T<sub>1</sub>.t2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">abstraction</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<span class="id" type="var">t<sub>1</sub></span>&nbsp;<span class="id" type="var">t<sub>2</sub></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">application</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<span class="id" type="var">tru</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">constant</span>&nbsp;<span class="id" type="var">true</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<span class="id" type="var">fls</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">constant</span>&nbsp;<span class="id" type="var">false</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<span class="id" type="var">test</span>&nbsp;<span class="id" type="var">t<sub>1</sub></span>&nbsp;<span class="id" type="keyword">then</span>&nbsp;<span class="id" type="var">t<sub>2</sub></span>&nbsp;<span class="id" type="keyword">else</span>&nbsp;<span class="id" type="var">t<sub>3</sub></span>&nbsp;&nbsp;&nbsp;<span class="id" type="var">conditional</span>
<div class="paragraph"> </div>

</div>

<div class="paragraph"> </div>

 å‡½æ•°æŠ½è±¡ <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">T.t</span></span> ä¸­çš„ <span class="inlinecode">\</span> ç¬¦å·ä¸€èˆ¬å†™ä½œå¸Œè…Šå­—æ¯â€œlambdaâ€ï¼ˆæœ¬æ¼”ç®—ç³»ç»Ÿç”±æ­¤å¾—åï¼‰ã€‚
    å˜é‡ <span class="inlinecode"><span class="id" type="var">x</span></span> å«åšå‡½æ•°çš„<b>å‚æ•°ï¼ˆparameterï¼‰</b>ï¼›é¡¹ <span class="inlinecode"><span class="id" type="var">t</span></span> æ˜¯<b>å‡½æ•°ä½“ï¼ˆbodyï¼‰</b>ã€‚
    è®°å· <span class="inlinecode">:<span class="id" type="var">T</span></span> æŒ‡æ˜äº†å‡½æ•°å¯ä»¥è¢«åº”ç”¨çš„å‚æ•°ç±»å‹ã€‚
<div class="paragraph"> </div>

 ä¸€äº›ä¾‹å­ï¼š

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span>

<div class="paragraph"> </div>

        å¸ƒå°”å€¼çš„æ’ç­‰å‡½æ•°ã€‚

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span>)</span> <span class="inlinecode"><span class="id" type="var">tru</span></span>

<div class="paragraph"> </div>

        è¢«åº”ç”¨äº <span class="inlinecode"><span class="id" type="var">tru</span></span> çš„å¸ƒå°”å€¼æ’ç­‰å‡½æ•°ã€‚

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">test</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="keyword">then</span></span> <span class="inlinecode"><span class="id" type="var">fls</span></span> <span class="inlinecode"><span class="id" type="keyword">else</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span>

<div class="paragraph"> </div>

        å¸ƒå°”å€¼çš„â€œå¦å®šâ€å‡½æ•°ã€‚

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">tru</span></span>

<div class="paragraph"> </div>

        æ€»æ˜¯æ¥å—ï¼ˆå¸ƒå°”å€¼ï¼‰å‚æ•°å¹¶è¿”å› <span class="inlinecode"><span class="id" type="var">tru</span></span> çš„å¸¸é‡å‡½æ•°ã€‚
</li>
</ul>

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span>

<div class="paragraph"> </div>

        æ¥å—ä¸¤ä¸ªå¸ƒå°”å€¼åšå‚æ•°ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ã€‚ï¼ˆåœ¨ Coq ä¸­ï¼ŒäºŒå…ƒå‡½æ•°
        å…¶å®å°±æ˜¯ä¸€ä¸ªä¸€å…ƒå‡½æ•°ï¼Œåªæ˜¯å…¶å‡½æ•°ä½“ä¹Ÿæ˜¯ä¸€å…ƒå‡½æ•°ã€‚ï¼‰

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span>)</span> <span class="inlinecode"><span class="id" type="var">fls</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span>

<div class="paragraph"> </div>

        ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå¸ƒå°”å€¼åšå‚æ•°ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œæ¥ç€å®ƒè¢«åº”ç”¨äºä¸¤ä¸ªå¸ƒå°”å€¼å‚æ•°
        <span class="inlinecode"><span class="id" type="var">fls</span></span> å’Œ <span class="inlinecode"><span class="id" type="var">tru</span></span>ã€‚

<div class="paragraph"> </div>

        åœ¨ Coq ä¸­ï¼Œåº”ç”¨æ˜¯å·¦ç»“åˆçš„â€”â€”ä¹Ÿå³ï¼Œè¿™ä¸ªè¡¨è¾¾å¼è¢«è§£æä¸º
        <span class="inlinecode">((\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span>)</span> <span class="inlinecode"><span class="id" type="var">fls</span>)</span> <span class="inlinecode"><span class="id" type="var">tru</span></span>ã€‚

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">\<span class="id" type="var">f</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">f</span></span> <span class="inlinecode">(<span class="id" type="var">f</span></span> <span class="inlinecode"><span class="id" type="var">tru</span>)</span>

<div class="paragraph"> </div>

        ä¸€ä¸ªé«˜é˜¶å‡½æ•°å…¶æ¥å—ä¸€ä¸ªå‡½æ•° <span class="inlinecode"><span class="id" type="var">f</span></span>ï¼ˆä»å¸ƒå°”å€¼åˆ°å¸ƒå°”å€¼ï¼‰ä½œä¸ºå‚æ•°ï¼Œå¹¶åº”ç”¨
        <span class="inlinecode"><span class="id" type="var">f</span></span> äºå‚æ•° <span class="inlinecode"><span class="id" type="var">tru</span></span>ï¼›å…¶ç»“æœåˆè¢«åº”ç”¨äº <span class="inlinecode"><span class="id" type="var">f</span></span>ã€‚

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">(\<span class="id" type="var">f</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">f</span></span> <span class="inlinecode">(<span class="id" type="var">f</span></span> <span class="inlinecode"><span class="id" type="var">tru</span>))</span> <span class="inlinecode">(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">fls</span>)</span>

<div class="paragraph"> </div>

        åŒä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œè¢«åº”ç”¨äºè¿”å› <span class="inlinecode"><span class="id" type="var">fls</span></span> çš„å¸¸å‡½æ•°ã€‚ 
</li>
</ul>

<div class="paragraph"> </div>

 æ­£å¦‚æœ€åå‡ ä¸ªä¾‹å­ä¸­å±•ç¤ºçš„é‚£æ ·ï¼ŒSTLCæ˜¯ä¸€ä¸ªæ”¯æŒ<b>é«˜é˜¶ï¼ˆhigher-orderï¼‰</b>
    å‡½æ•°çš„è¯­è¨€ï¼šæˆ‘ä»¬å¯ä»¥å†™å‡ºæ¥å—å…¶ä»–å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæˆ–è¿”å›å…¶ä»–å‡½æ•°ä½œä¸ºç»“æœçš„å‡½æ•°ã€‚

<div class="paragraph"> </div>

    ä½†æ˜¯ STLC å¹¶æ²¡æä¾›ä»»ä½•åŸç”Ÿè¯­æ³•æ¥å®šä¹‰<b>æœ‰åå‡½æ•°ï¼ˆnamed functionsï¼‰</b>â€”â€”
    æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯â€œåŒ¿åçš„ï¼ˆanonymousï¼‰â€ã€‚æˆ‘ä»¬ä¼šåœ¨ <span class="inlinecode"><span class="id" type="var">MoreStlc</span></span> ä¸€ç« ä¸­çœ‹åˆ°æ·»åŠ æœ‰å
    å‡½æ•°æ˜¯ååˆ†ç®€å•çš„â€”â€”ç¡®å®ï¼ŒåŸºæœ¬çš„å‘½åå’Œç»‘å®šæœºåˆ¶å…¶å®æ˜¯åŒä¸€å›äº‹ã€‚

<div class="paragraph"> </div>

    STLC çš„<b>ç±»å‹ï¼ˆtypesï¼‰</b>åŒ…æ‹¬ <span class="inlinecode"><span class="id" type="var">Bool</span></span>ï¼Œå…¶ç”¨äºæŠŠ <span class="inlinecode"><span class="id" type="var">tru</span></span> å’Œ <span class="inlinecode"><span class="id" type="var">fls</span></span> è¿™äº›å¸¸é‡
    å’Œå…¶ä»–äº§ç”Ÿå¸ƒå°”å€¼çš„å¤æ‚è®¡ç®—å½’ä¸ºä¸€ç±»ï¼›è¿˜æœ‰<b>å‡½æ•°ç±»å‹ï¼ˆarrow typesï¼‰</b>ï¼Œç”¨äºæŠŠå‡½
    æ•°å½’ä¸ºä¸€ç±»ã€‚
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">T</span>&nbsp;<span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>:</span>:</span>=</span>&nbsp;<span class="id" type="var">Bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<span class="id" type="var">T</span>&nbsp;â†’&nbsp;<span class="id" type="var">T</span>
<div class="paragraph"> </div>

</div>
    æ¯”å¦‚è¯´ï¼š

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">fls</span></span> æœ‰ç±»å‹ <span class="inlinecode"><span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span> æœ‰ç±»å‹ <span class="inlinecode"><span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span>)</span> <span class="inlinecode"><span class="id" type="var">tru</span></span> æœ‰ç±»å‹ <span class="inlinecode"><span class="id" type="var">Bool</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span> æœ‰ç±»å‹ <span class="inlinecode"><span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span></span>
                              ï¼ˆå³ <span class="inlinecode"><span class="id" type="var">Bool</span></span> <span class="inlinecode">â†’</span> <span class="inlinecode">(<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Boolï</span>¼‰</span>ï¼‰

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span>)</span> <span class="inlinecode"><span class="id" type="var">fls</span></span> æœ‰ç±»å‹ <span class="inlinecode"><span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span>)</span> <span class="inlinecode"><span class="id" type="var">fls</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span> æœ‰ç±»å‹ <span class="inlinecode"><span class="id" type="var">Bool</span></span> 
</li>
</ul>

</div>

<div class="doc">
<a name="lab204"></a><h1 class="section">è¯­æ³•</h1>

<div class="paragraph"> </div>

 æˆ‘ä»¬æ¥ä¸‹æ¥å½¢å¼åŒ– STLC çš„è¯­æ³•ã€‚ 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Module</span> <span class="id" type="var">STLC</span>.<br/>
</div>

<div class="doc">
<a name="lab205"></a><h2 class="section">ç±»å‹</h2>

</div>
<div class="code code-space">

<br/>
<span class="id" type="keyword">Inductive</span> <span class="id" type="var">ty</span> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id" type="var">Bool</span>  : <span class="id" type="var">ty</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">Arrow</span> : <span class="id" type="var">ty</span> â†’ <span class="id" type="var">ty</span> â†’ <span class="id" type="var">ty</span>.<br/>
</div>

<div class="doc">
<a name="lab206"></a><h2 class="section">é¡¹</h2>

</div>
<div class="code code-space">

<br/>
<span class="id" type="keyword">Inductive</span> <span class="id" type="var">tm</span> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id" type="var">var</span> : <span class="id" type="var">string</span> â†’ <span class="id" type="var">tm</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">app</span> : <span class="id" type="var">tm</span> â†’ <span class="id" type="var">tm</span> â†’ <span class="id" type="var">tm</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">abs</span> : <span class="id" type="var">string</span> â†’ <span class="id" type="var">ty</span> â†’ <span class="id" type="var">tm</span> â†’ <span class="id" type="var">tm</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">tru</span> : <span class="id" type="var">tm</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">fls</span> : <span class="id" type="var">tm</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">test</span> : <span class="id" type="var">tm</span> â†’ <span class="id" type="var">tm</span> â†’ <span class="id" type="var">tm</span> â†’ <span class="id" type="var">tm</span>.<br/>
</div>

<div class="doc">
è¯·æ³¨æ„ä¸€ä¸ªå½¢å¦‚ <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">T.t</span></span> çš„æŠ½è±¡ï¼ˆå½¢å¼åŒ–åœ°è®²æ˜¯ <span class="inlinecode"><span class="id" type="var">abs</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="var">T</span></span> <span class="inlinecode"><span class="id" type="var">t</span></span>ï¼‰åŒ…å«å…¶å‚æ•°
    <span class="inlinecode"><span class="id" type="var">T</span></span> çš„ç±»å‹æ³¨é‡Šï¼Œç›¸ååœ¨ Coqï¼ˆä»¥åŠå…¶ä»–å‡½æ•°å¼è¯­è¨€ï¼Œæ¯”å¦‚ MLï¼ŒHaskellç­‰ï¼‰ä¸­ï¼Œ
    ä¼šä½¿ç”¨ç±»å‹æ¨å¯¼æ¥å¡«è¡¥è¿™äº›ç±»å‹æ³¨é‡Šã€‚æˆ‘ä»¬åœ¨æ­¤ä¸è€ƒè™‘ç±»å‹æ¨å¯¼ã€‚ 
<div class="paragraph"> </div>

 ä¸€äº›ä¾‹å­â€¦â€¦ 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">string_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Definition</span> <span class="id" type="var">x</span> := "x".<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="var">y</span> := "y".<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="var">z</span> := "z".<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Unfold</span> <span class="id" type="var">x</span>.<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Unfold</span> <span class="id" type="var">y</span>.<br/>
<span class="id" type="keyword">Hint</span> <span class="id" type="keyword">Unfold</span> <span class="id" type="var">z</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">idB</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span> 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Notation</span> <span class="id" type="var">idB</span> :=<br/>
&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">Bool</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>)).<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">idBB</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span> 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Notation</span> <span class="id" type="var">idBB</span> :=<br/>
&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">x</span> (<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>) (<span class="id" type="var">var</span> <span class="id" type="var">x</span>)).<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">idBBBB</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">x</span>:(<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>)</span> <span class="inlinecode">â†’</span> <span class="inlinecode">(<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>).</span> <span class="inlinecode"><span class="id" type="var">x</span></span> 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Notation</span> <span class="id" type="var">idBBBB</span> :=<br/>
&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">x</span> (<span class="id" type="var">Arrow</span> (<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">var</span> <span class="id" type="var">x</span>)).<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">k</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span> 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Notation</span> <span class="id" type="var">k</span> := (<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">Bool</span> (<span class="id" type="var">abs</span> <span class="id" type="var">y</span> <span class="id" type="var">Bool</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>))).<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" type="var">notB</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">test</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="keyword">then</span></span> <span class="inlinecode"><span class="id" type="var">fls</span></span> <span class="inlinecode"><span class="id" type="keyword">else</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span> 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Notation</span> <span class="id" type="var">notB</span> := (<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">Bool</span> (<span class="id" type="var">test</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>) <span class="id" type="var">fls</span> <span class="id" type="var">tru</span>)).<br/>
</div>

<div class="doc">
ï¼ˆæˆ‘ä»¬ä½¿ç”¨ <span class="inlinecode"><span class="id" type="keyword">Notation</span></span> è€Œé <span class="inlinecode"><span class="id" type="keyword">Definition</span></span> ä½¿ <span class="inlinecode"><span class="id" type="var">atuo</span></span> æ›´æœ‰æ•ˆã€‚ï¼‰
</div>

<div class="doc">
<a name="lab207"></a><h1 class="section">æ“ä½œè¯­ä¹‰</h1>

<div class="paragraph"> </div>

 ä¸ºäº†å®šä¹‰ STLC é¡¹çš„å°æ­¥è¯­ä¹‰ï¼Œæˆ‘ä»¬ä»¥å€¼çš„é›†åˆçš„å®šä¹‰å¼€å§‹ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å®šä¹‰ä¸¤ä¸ª
    é‡è¦çš„æ¦‚å¿µï¼Œ<b>è‡ªç”±å˜é‡ï¼ˆfree variablesï¼‰</b>å’Œ<b>æ›¿æ¢ï¼ˆsubstitutionï¼‰</b>ï¼Œ
    ä»–ä»¬åœ¨å‡½æ•°åº”ç”¨çš„å½’çº¦è§„åˆ™ä¸­ä¼šè¢«ç”¨åˆ°ã€‚æœ€åï¼Œæˆ‘ä»¬ç»™å‡ºå°æ­¥å½’çº¦å…³ç³»ã€‚ 
</div>

<div class="doc">
<a name="lab208"></a><h2 class="section">å€¼</h2>

<div class="paragraph"> </div>

 åœ¨å®šä¹‰ STLC çš„å€¼æ—¶ï¼Œæˆ‘ä»¬æœ‰å‡ ä¸ªæƒ…å½¢éœ€è¦è€ƒè™‘ã€‚

<div class="paragraph"> </div>

    é¦–å…ˆï¼Œå¯¹äºå¸ƒå°”å€¼è€Œè¨€æ˜¯æ˜¾ç„¶çš„ï¼š<span class="inlinecode"><span class="id" type="var">true</span></span> å’Œ <span class="inlinecode"><span class="id" type="var">false</span></span> æ˜¯ä»…æœ‰çš„å€¼ã€‚
    ä¸€ä¸ª <span class="inlinecode"><span class="id" type="var">test</span></span> è¡¨è¾¾å¼ä¸æ˜¯å€¼ã€‚
<div class="paragraph"> </div>

 å…¶æ¬¡ï¼Œä¸€ä¸ªåº”ç”¨ä¹Ÿä¸ä¼šæ˜¯å€¼ï¼šå®ƒè¡¨ç¤ºä¸€ä¸ªå‡½æ•°æ­£åœ¨æŸä¸ªå‚æ•°ä¸Šè¢«è°ƒç”¨ï¼Œæ˜¾ç„¶è¿˜å¯ä»¥ç»§ç»­å½’çº¦ã€‚
<div class="paragraph"> </div>

 ç¬¬ä¸‰ï¼Œå¯¹äºæŠ½è±¡ï¼Œæˆ‘ä»¬æœ‰å‡ ä¸ªé€‰æ‹©ï¼š

<div class="paragraph"> </div>

<ul class="doclist">
<li> æˆ‘ä»¬å¯ä»¥è¯´ä»…å½“ <span class="inlinecode"><span class="id" type="var">t</span></span> æ˜¯å€¼æ—¶ <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">T</span>.</span> <span class="inlinecode"><span class="id" type="var">t</span></span> æ˜¯å€¼â€”â€”ä¹Ÿå³ï¼Œä»…å½“å‡½æ•°ä½“å·²ç»è¢«å½’çº¦
        ï¼ˆåœ¨ä¸çŸ¥é“è¢«åº”ç”¨çš„å‚æ•°æ˜¯ä»€ä¹ˆçš„æƒ…å†µä¸‹å°½å¯èƒ½åœ°å½’çº¦ï¼‰ã€‚

<div class="paragraph"> </div>


</li>
<li> æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ä¸è®º <span class="inlinecode"><span class="id" type="var">t</span></span> æ˜¯ä¸æ˜¯å€¼ï¼Œ<span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">T</span>.</span> <span class="inlinecode"><span class="id" type="var">t</span></span> éƒ½æ˜¯ä¸€ä¸ªå€¼â€”â€”æ¢å¥è¯è¯´ï¼Œ
        å½’çº¦æ­¢äºæŠ½è±¡ã€‚

</li>
</ul>

<div class="paragraph"> </div>

    åœ¨ Coq ä¸­è¡¨è¾¾å¼é€šå¸¸æ˜¯ä»¥ç¬¬ä¸€ç§æ–¹å¼æ±‚å€¼çš„â€”â€”æ¯”å¦‚è¯´ï¼Œ

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Compute</span>&nbsp;(<span class="id" type="keyword">fun</span>&nbsp;<span class="id" type="var">x</span>:<span class="id" type="var">bool</span>&nbsp;â‡’&nbsp;3&nbsp;+&nbsp;4)
<div class="paragraph"> </div>

</div>
    ä¼šå¾—åˆ°

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">fun</span>&nbsp;<span class="id" type="var">x</span>:<span class="id" type="var">bool</span>&nbsp;â‡’&nbsp;7
<div class="paragraph"> </div>

</div>
    å¤šæ•°ç°å®ä¸–ç•Œä¸­çš„ç¨‹åºè¯­è¨€é€‰æ‹©äº†ç¬¬äºŒç§æ–¹å¼â€”â€”å‡½æ•°ä½“çš„å½’çº¦ä»…å‘ç”Ÿåœ¨å‡½æ•°å®é™…è¢«åº”ç”¨
    äºæŸä¸ªå‚æ•°æ—¶ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä¹Ÿé€‰æ‹©ç¬¬äºŒç§æ–¹å¼ã€‚
</div>
<div class="code code-tight">

<span class="id" type="keyword">Inductive</span> <span class="id" type="var">value</span> : <span class="id" type="var">tm</span> â†’ <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" type="var">v_abs</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">x</span> <span class="id" type="var">T</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">value</span> (<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">T</span> <span class="id" type="var">t</span>)<br/>
&nbsp;&nbsp;| <span class="id" type="var">v_tru</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">value</span> <span class="id" type="var">tru</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">v_fls</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">value</span> <span class="id" type="var">fls</span>.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Hint</span> <span class="id" type="var">Constructors</span> <span class="id" type="var">value</span>.<br/>
</div>

<div class="doc">
æœ€åï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘ä»€ä¹ˆæ„æˆäº†ä¸€ä¸ª<b>å®Œæ•´ï¼ˆcompleteï¼‰</b>çš„ç¨‹åºã€‚

<div class="paragraph"> </div>

    ç›´è§‚åœ°è®²ï¼Œä¸€ä¸ªâ€œå®Œæ•´çš„ç¨‹åºâ€ä¸èƒ½åŒ…å«æœªå®šä¹‰çš„å˜é‡ã€‚æˆ‘ä»¬å¾ˆå¿«ä¼šçœ‹åˆ°å¦‚ä½•å®šä¹‰ STLC
    é¡¹ä¸­çš„<b>è‡ªç”±ï¼ˆfreeï¼‰</b>å˜é‡ã€‚ä¸€ä¸ªå®Œæ•´çš„ç¨‹åºæ˜¯<b>é—­åˆçš„ï¼ˆclosedï¼‰</b>â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œ
    å®ƒä¸å«æœ‰è‡ªç”±å˜é‡ã€‚

<div class="paragraph"> </div>

    ï¼ˆç›¸åï¼Œå«æœ‰è‡ªç”±å˜é‡çš„é¡¹ä¸€èˆ¬è¢«å«åš<b>å¼€æ”¾é¡¹ï¼ˆopen termï¼‰</b>ã€‚ï¼‰ 
<div class="paragraph"> </div>

 ç”±äºæˆ‘ä»¬å†³å®šä¸å¯¹æŠ½è±¡å†…çš„è¡¨è¾¾å¼è¿›è¡Œå½’çº¦ï¼Œå› æ­¤ä¹Ÿä¸å¿…æ‹…å¿ƒå˜é‡æ˜¯å¦æ˜¯å€¼è¿™ä¸ªé—®é¢˜ã€‚
    å› ä¸ºæˆ‘ä»¬æ€»æ˜¯â€œä»å¤–å‘å†…â€åœ°å½’çº¦ç¨‹åºï¼Œè¿™æ„å‘³ç€ <span class="inlinecode"><span class="id" type="var">step</span></span> å…³ç³»ä»…ä¼šå¤„ç†é—­åˆé¡¹ã€‚ 
</div>

<div class="doc">
<a name="lab209"></a><h2 class="section">æ›¿æ¢</h2>

<div class="paragraph"> </div>

 ç°åœ¨æˆ‘ä»¬æ¥åˆ°äº† STLC çš„æ ¸å¿ƒï¼šç”¨ä¸€ä¸ªé¡¹æ›¿æ¢å¦ä¸€ä¸ªé¡¹ä¸­çš„å˜é‡ã€‚è¿™ä¸ªæ“ä½œåœ¨ä¸‹é¢ç”¨äº
    å®šä¹‰å‡½æ•°åº”ç”¨çš„æ“ä½œè¯­ä¹‰ï¼Œå…¶ä¸­æˆ‘ä»¬ä¼šéœ€è¦ç”¨ä¸€ä¸ªå‚æ•°é¡¹æ›¿æ¢å‡½æ•°ä½“ä¸­å‡ºç°çš„å½¢å¼å‚æ•°ã€‚
    æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬ä¼šå½’çº¦

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>. <span class="id" type="var">test</span>&nbsp;<span class="id" type="var">x</span>&nbsp;<span class="id" type="keyword">then</span>&nbsp;<span class="id" type="var">tru</span>&nbsp;<span class="id" type="keyword">else</span>&nbsp;<span class="id" type="var">x</span>)&nbsp;<span class="id" type="var">fls</span>
<div class="paragraph"> </div>

</div>
    åˆ°

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">test</span>&nbsp;<span class="id" type="var">fls</span>&nbsp;<span class="id" type="keyword">then</span>&nbsp;<span class="id" type="var">tru</span>&nbsp;<span class="id" type="keyword">else</span>&nbsp;<span class="id" type="var">fls</span>
<div class="paragraph"> </div>

</div>
    è¿™æ­¥å½’çº¦å°†å‡½æ•°ä½“ä¸­å‡ºç°çš„å‚æ•° <span class="inlinecode"><span class="id" type="var">x</span></span> æ›¿æ¢ä¸º <span class="inlinecode"><span class="id" type="var">fls</span></span>ã€‚

<div class="paragraph"> </div>

    ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç»™å®šçš„é¡¹ <span class="inlinecode"><span class="id" type="var">s</span></span> æ›¿æ¢çš„æŸå¦ä¸€ä¸ªé¡¹ <span class="inlinecode"><span class="id" type="var">t</span></span> ä¸­å‡ºç°ä¸ªå˜é‡ <span class="inlinecode"><span class="id" type="var">x</span></span>ã€‚
    åœ¨éå½¢å¼åŒ–çš„è®¨è®ºä¸­ï¼Œè¿™é€šå¸¸è¢«å†™åš <span class="inlinecode"></span> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t</span></span> <span class="inlinecode"></span>ï¼Œå¹¶è¯»åšâ€œæ›¿æ¢ <span class="inlinecode"><span class="id" type="var">t</span></span> ä¸­çš„ <span class="inlinecode"><span class="id" type="var">x</span></span>
    ä¸º <span class="inlinecode"><span class="id" type="var">s</span></span>â€ã€‚
<div class="paragraph"> </div>

 è¿™é‡Œæœ‰ä¸€äº›ä¾‹å­ï¼š

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode">(<span class="id" type="var">test</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="keyword">then</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="keyword">else</span></span> <span class="inlinecode"><span class="id" type="var">fls</span>)</span>
           äº§ç”Ÿ <span class="inlinecode"><span class="id" type="var">test</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span> <span class="inlinecode"><span class="id" type="keyword">then</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span> <span class="inlinecode"><span class="id" type="keyword">else</span></span> <span class="inlinecode"><span class="id" type="var">fls</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode"><span class="id" type="var">x</span></span> äº§ç”Ÿ <span class="inlinecode"><span class="id" type="var">tru</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode">(<span class="id" type="var">test</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="keyword">then</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="keyword">else</span></span> <span class="inlinecode"><span class="id" type="var">y</span>)</span> äº§ç”Ÿ <span class="inlinecode"><span class="id" type="var">test</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span> <span class="inlinecode"><span class="id" type="keyword">then</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span> <span class="inlinecode"><span class="id" type="keyword">else</span></span> <span class="inlinecode"><span class="id" type="var">y</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode"><span class="id" type="var">y</span></span> äº§ç”Ÿ <span class="inlinecode"><span class="id" type="var">y</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode"><span class="id" type="var">fls</span></span> yields <span class="inlinecode"><span class="id" type="var">fls</span></span> (vacuous substitution)

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode">(\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">test</span></span> <span class="inlinecode"><span class="id" type="var">y</span></span> <span class="inlinecode"><span class="id" type="keyword">then</span></span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="keyword">else</span></span> <span class="inlinecode"><span class="id" type="var">fls</span>)</span>
           äº§ç”Ÿ <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">test</span></span> <span class="inlinecode"><span class="id" type="var">y</span></span> <span class="inlinecode"><span class="id" type="keyword">then</span></span> <span class="inlinecode"><span class="id" type="var">tru</span></span> <span class="inlinecode"><span class="id" type="keyword">else</span></span> <span class="inlinecode"><span class="id" type="var">fls</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode">(\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span>)</span> äº§ç”Ÿ <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">tru</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode">(\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">y</span>)</span> äº§ç”Ÿ <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">y</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode">[<span class="id" type="var">x</span>:=<span class="id" type="var">tru</span>]</span> <span class="inlinecode">(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span>)</span> äº§ç”Ÿ <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span>

</li>
</ul>

<div class="paragraph"> </div>

    æœ€åä¸€ä¸ªä¾‹å­éå¸¸é‡è¦ï¼šæ›¿æ¢ <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span> ä¸­çš„ <span class="inlinecode"><span class="id" type="var">x</span></span> ä¸º <span class="inlinecode"><span class="id" type="var">tru</span></span> <b>ä¸</b>ä¼šäº§ç”Ÿ
    <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">tru</span></span>ï¼å› ä¸º <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span> ä¸­çš„ <span class="inlinecode"><span class="id" type="var">x</span></span> æ˜¯è¢«è¿™ä¸ªæŠ½è±¡æ‰€<b>ç»‘å®šçš„ï¼ˆboundï¼‰</b>ï¼š
    å®ƒæ˜¯ä¸€ä¸ªæ–°çš„ã€å±€éƒ¨çš„åå­—ï¼Œåªæ˜¯æ°å·§å†™åšäº†è·ŸæŸä¸ªå…¨å±€åå­—ä¸€æ ·çš„ <span class="inlinecode"><span class="id" type="var">x</span></span>ã€‚
<div class="paragraph"> </div>

 è¿™æ˜¯éå½¢å¼åŒ–çš„å®šä¹‰â€¦â€¦

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">x</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;<span class="id" type="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;<span class="id" type="var">y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span>&nbsp;<span class="id" type="var">x</span>&nbsp;â‰ &nbsp;<span class="id" type="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>](\<span class="id" type="var">x</span>:<span class="id" type="var">T<sub>11</sub></span>. <span class="id" type="var">t<sub>12</sub></span>)&nbsp;&nbsp;&nbsp;=&nbsp;\<span class="id" type="var">x</span>:<span class="id" type="var">T<sub>11</sub></span>. <span class="id" type="var">t<sub>12</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>](\<span class="id" type="var">y</span>:<span class="id" type="var">T<sub>11</sub></span>. <span class="id" type="var">t<sub>12</sub></span>)&nbsp;&nbsp;&nbsp;=&nbsp;\<span class="id" type="var">y</span>:<span class="id" type="var">T<sub>11</sub></span>. [<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t<sub>12</sub></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span>&nbsp;<span class="id" type="var">x</span>&nbsp;â‰ &nbsp;<span class="id" type="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>](<span class="id" type="var">t<sub>1</sub></span>&nbsp;<span class="id" type="var">t<sub>2</sub></span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;([<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t<sub>1</sub></span>)&nbsp;([<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t<sub>2</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">tru</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;<span class="id" type="var">tru</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">fls</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;<span class="id" type="var">fls</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>](<span class="id" type="var">test</span>&nbsp;<span class="id" type="var">t<sub>1</sub></span>&nbsp;<span class="id" type="keyword">then</span>&nbsp;<span class="id" type="var">t<sub>2</sub></span>&nbsp;<span class="id" type="keyword">else</span>&nbsp;<span class="id" type="var">t<sub>3</sub></span>)&nbsp;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">test</span>&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t<sub>1</sub></span>&nbsp;<span class="id" type="keyword">then</span>&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t<sub>2</sub></span>&nbsp;<span class="id" type="keyword">else</span>&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t<sub>3</sub></span>
<div class="paragraph"> </div>

</div>

<div class="paragraph"> </div>

 â€¦â€¦ä»¥åŠå½¢å¼åŒ–çš„ï¼š 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Reserved Notation</span> "'[' x ':=' s ']' t" (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 20).<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Fixpoint</span> <span class="id" type="tactic">subst</span> (<span class="id" type="var">x</span> : <span class="id" type="var">string</span>) (<span class="id" type="var">s</span> : <span class="id" type="var">tm</span>) (<span class="id" type="var">t</span> : <span class="id" type="var">tm</span>) : <span class="id" type="var">tm</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">t</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">var</span> <span class="id" type="var">x'</span> â‡’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <span class="id" type="var">eqb_string</span> <span class="id" type="var">x</span> <span class="id" type="var">x'</span> <span class="id" type="keyword">then</span> <span class="id" type="var">s</span> <span class="id" type="keyword">else</span> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">abs</span> <span class="id" type="var">x'</span> <span class="id" type="var">T</span> <span class="id" type="var">t<sub>1</sub></span> â‡’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">abs</span> <span class="id" type="var">x'</span> <span class="id" type="var">T</span> (<span class="id" type="keyword">if</span> <span class="id" type="var">eqb_string</span> <span class="id" type="var">x</span> <span class="id" type="var">x'</span> <span class="id" type="keyword">then</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="keyword">else</span> ([<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>] <span class="id" type="var">t<sub>1</sub></span>))<br/>
&nbsp;&nbsp;| <span class="id" type="var">app</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> â‡’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">app</span> ([<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>] <span class="id" type="var">t<sub>1</sub></span>) ([<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>] <span class="id" type="var">t<sub>2</sub></span>)<br/>
&nbsp;&nbsp;| <span class="id" type="var">tru</span> â‡’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">tru</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">fls</span> â‡’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">fls</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">test</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> <span class="id" type="var">t<sub>3</sub></span> â‡’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">test</span> ([<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>] <span class="id" type="var">t<sub>1</sub></span>) ([<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>] <span class="id" type="var">t<sub>2</sub></span>) ([<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>] <span class="id" type="var">t<sub>3</sub></span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
<br/>
<span class="id" type="keyword">where</span> "'[' x ':=' s ']' t" := (<span class="id" type="tactic">subst</span> <span class="id" type="var">x</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>).<br/>
</div>

<div class="doc">
<b>'æŠ€æœ¯æ³¨è§£</b>ï¼šå¦‚æœæˆ‘ä»¬è€ƒè™‘ç”¨äºæ›¿æ¢æ‰æŸä¸ªå˜é‡çš„é¡¹ <span class="inlinecode"><span class="id" type="var">s</span></span> å…¶æœ¬èº«ä¹Ÿå«æœ‰è‡ªç”±å˜é‡ï¼Œ
    é‚£ä¹ˆå®šä¹‰æ›¿æ¢å°†ä¼šå˜å¾—å›°éš¾ä¸€ç‚¹ã€‚ç”±äºæˆ‘ä»¬ä»…å¯¹å®šä¹‰åœ¨<b>é—­åˆ</b>é¡¹ï¼ˆä¹Ÿå³åƒ <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">x</span></span>
    è¿™ç§ç»‘å®šäº†å†…éƒ¨å…¨éƒ¨å˜é‡çš„é¡¹ï¼‰ä¸Šçš„ <span class="inlinecode"><span class="id" type="var">step</span></span> å…³ç³»æœ‰å…´è¶£ï¼Œæˆ‘ä»¬å¯ä»¥è§„é¿è¿™ä¸ªé¢å¤–çš„å¤æ‚æ€§ï¼Œ
    ä½†æ˜¯å½“å½¢å¼åŒ–æ„é€ æ›´ä¸°å¯Œçš„è¯­è¨€æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘è¿™ä¸€ç‚¹ã€‚
<div class="paragraph"> </div>

 æ¯”å¦‚è¯´ï¼Œä½¿ç”¨ä¸Šé¢çš„æ›¿æ¢å®šä¹‰å°† <span class="inlinecode"><span class="id" type="var">t</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">r</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">z</span></span>ï¼ˆå…¶ä¸­ <span class="inlinecode"><span class="id" type="var">r</span></span> ä¸ºç»‘å®šå˜é‡ï¼‰ä¸­çš„
    <span class="inlinecode"><span class="id" type="var">z</span></span> æ›¿æ¢ä¸º<b>å¼€æ”¾</b>é¡¹ <span class="inlinecode"><span class="id" type="var">s</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">r</span></span>ï¼ˆå…¶ä¸­ <span class="inlinecode"><span class="id" type="var">r</span></span> æ˜¯å¼•ç”¨äº†æŸä¸ªå…¨å±€èµ„æºçš„è‡ªç”±å˜é‡ï¼‰ï¼Œ
    æˆ‘ä»¬ä¼šå¾—åˆ° <span class="inlinecode">\<span class="id" type="var">r</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">r</span></span>ã€‚è¿™æ—¶ï¼Œ<span class="inlinecode"><span class="id" type="var">s</span></span> ä¸­çš„è‡ªç”±å¼•ç”¨ <span class="inlinecode"><span class="id" type="var">r</span></span> è¢« <span class="inlinecode"><span class="id" type="var">t</span></span> æ‰€å¼•å…¥
    çš„ç»‘å®šæ‰€â€œæ•è·â€ã€‚

<div class="paragraph"> </div>

    ä¸ºä»€ä¹ˆè¿™æ˜¯ä»¶åäº‹å‘¢ï¼Ÿå› ä¸ºå®ƒè¿åäº†â€œç»‘å®šå˜é‡çš„åå­—ä¸åº”å½“æ”¹å˜è¯­ä¹‰â€è¿™ä¸ªåŸåˆ™ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œ
    å¦‚æœæŠŠ <span class="inlinecode"><span class="id" type="var">t</span></span> çš„ç»‘å®šå˜é‡é‡å‘½åï¼Œæ¯”å¦‚è¯´ï¼Œ<span class="inlinecode"><span class="id" type="var">t'</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">w</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">z</span></span>ï¼Œé‚£ä¹ˆ <span class="inlinecode">[<span class="id" type="var">z</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t'</span></span>
    ä¼šäº§ç”Ÿ <span class="inlinecode">\<span class="id" type="var">w</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">r</span></span>ï¼Œå…¶è¡Œä¸ºå’Œ <span class="inlinecode">[<span class="id" type="var">z</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t</span></span> <span class="inlinecode">=</span> <span class="inlinecode">\<span class="id" type="var">r</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode"><span class="id" type="var">r</span></span>
    å¹¶ä¸ç›¸åŒã€‚è¿™æ„å‘³ç€ï¼Œé‡å‘½åç»‘å®šå˜é‡æ”¹å˜äº† <span class="inlinecode"><span class="id" type="var">t</span></span> åœ¨æ›¿æ¢æ—¶çš„è¡Œä¸ºã€‚ 
<div class="paragraph"> </div>

 å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæ›´è¯¦ç»†çš„è®¨è®ºå¯å‚è€ƒ <a href="Bib.html#Aydemir 2008"><span class="inlineref">[Aydemir 2008]</span></a>ã€‚
<div class="paragraph"> </div>

<a name="lab210"></a><h4 class="section">ç»ƒä¹ ï¼š3 æ˜Ÿ, standard (substi_correct)</h4>
 ä¸Šé¢æˆ‘ä»¬ä½¿ç”¨äº† Coq çš„ <span class="inlinecode"><span class="id" type="keyword">Fixpoint</span></span> åŠŸèƒ½å°†æ›¿æ¢å®šä¹‰ä¸ºä¸€ä¸ª<b>å‡½æ•°</b>ã€‚
    å‡è®¾ï¼Œç°åœ¨æˆ‘ä»¬æƒ³è¦å°†æ›¿æ¢å®šä¹‰ä¸ºä¸€ä¸ªå½’çº³çš„<b>å…³ç³»</b> <span class="inlinecode"><span class="id" type="var">substi</span></span>ã€‚ä½œä¸ºå¼€å§‹ï¼Œæˆ‘ä»¬ç»™å‡ºäº†
    <span class="inlinecode"><span class="id" type="keyword">Inductive</span></span> å®šä¹‰çš„å¤´éƒ¨å’Œå…¶ä¸­ä¸€ä¸ªæ„é€ å­ï¼›ä½ çš„ä»»åŠ¡æ˜¯å®Œæˆå‰©ä¸‹çš„æ„é€ å­ï¼Œå¹¶è¯æ˜
    ä½ çš„å®šä¹‰åŒæ›¿æ¢å‡½æ•°çš„å®šä¹‰ç›¸ä¸€è‡´ã€‚ 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Inductive</span> <span class="id" type="var">substi</span> (<span class="id" type="var">s</span> : <span class="id" type="var">tm</span>) (<span class="id" type="var">x</span> : <span class="id" type="var">string</span>) : <span class="id" type="var">tm</span> â†’ <span class="id" type="var">tm</span> â†’ <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" type="var">s_var1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">substi</span> <span class="id" type="var">s</span> <span class="id" type="var">x</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>) <span class="id" type="var">s</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;è¯·åœ¨æ­¤å¤„è§£ç­”&nbsp;*)</span><br/>
.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Hint</span> <span class="id" type="var">Constructors</span> <span class="id" type="var">substi</span>.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Theorem</span> <span class="id" type="var">substi_correct</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">s</span> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">t'</span>,<br/>
&nbsp;&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">s</span>]<span class="id" type="var">t</span> = <span class="id" type="var">t'</span> â†” <span class="id" type="var">substi</span> <span class="id" type="var">s</span> <span class="id" type="var">x</span> <span class="id" type="var">t</span> <span class="id" type="var">t'</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;è¯·åœ¨æ­¤å¤„è§£ç­”&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br/>
</div>

<span class="proofbox">&#9744;</span> 

<div class="doc">
<a name="lab211"></a><h2 class="section">å½’çº¦</h2>

<div class="paragraph"> </div>

 STLC çš„å°æ­¥è¯­ä¹‰ä¸ä¹‹å‰å­¦è¿‡çš„å°æ­¥è¯­ä¹‰éµå¾ªäº†åŒæ ·çš„æ¨¡å¼ã€‚ç›´è§‚åœ°è¯´ï¼Œ
    å¯¹äºå‡½æ•°åº”ç”¨æˆ‘ä»¬é¦–å…ˆå½’çº¦å…¶å·¦æ‰‹è¾¹çš„é¡¹ï¼ˆä¹Ÿå³å‡½æ•°ï¼‰ç›´åˆ°å…¶æˆä¸ºä¸€ä¸ªæŠ½è±¡ï¼›
    æ¥ç€å½’çº¦å…¶å³æ‰‹è¾¹çš„é¡¹ï¼ˆä¹Ÿå³å‚æ•°ï¼‰ç›´åˆ°å…¶æˆä¸ºä¸€ä¸ªå€¼ï¼›æœ€åæˆ‘ä»¬ç”¨å‚æ•°æ›¿æ¢å‡½æ•°
    ä½“å†…çš„ç»‘å®šå˜é‡ã€‚æœ€åä¸€æ¡è§„åˆ™å¯ä»¥éå½¢å¼åŒ–åœ°å†™åš

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">T.t12</span>)&nbsp;<span class="id" type="var">v<sub>2</sub></span>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;[<span class="id" type="var">x</span>:=<span class="id" type="var">v<sub>2</sub></span>]<span class="id" type="var">t<sub>12</sub></span>
<div class="paragraph"> </div>

</div>
    ä¼ ç»Ÿä¸Šè¿™ä¹Ÿè¢«ç§°ä½œ<b>beta-å½’çº¦ï¼ˆbeta-reductionï¼‰</b> 
<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">value&nbsp;v<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (ST_AppAbs) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">(\x:T.t12)&nbsp;v<sub>2</sub>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;[x:=v<sub>2</sub>]t<sub>12</sub></td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">t<sub>1</sub>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;t<sub>1</sub>'</td>
  <td class="infrulenamecol" rowspan="3">
    (ST_App1) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">t<sub>1</sub>&nbsp;t<sub>2</sub>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;t<sub>1</sub>'&nbsp;t<sub>2</sub></td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">value&nbsp;v<sub>1</sub></td>
  <td></td>
</td>
<tr class="infruleassumption">
  <td class="infrule">t<sub>2</sub>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;t<sub>2</sub>'</td>
  <td class="infrulenamecol" rowspan="3">
    (ST_App2) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">v<sub>1</sub>&nbsp;t<sub>2</sub>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;v<sub>1</sub>&nbsp;t<sub>2</sub>'</td>
  <td></td>
</td>
</table></center> â€¦â€¦è¿˜æœ‰å¯¹æ¡ä»¶è¯­å¥çš„è§„åˆ™ï¼š
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (ST_TestTru) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">(test&nbsp;tru&nbsp;then&nbsp;t<sub>1</sub>&nbsp;else&nbsp;t<sub>2</sub>)&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;t<sub>1</sub></td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (ST_TestFls) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">(test&nbsp;fls&nbsp;then&nbsp;t<sub>1</sub>&nbsp;else&nbsp;t<sub>2</sub>)&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;t<sub>2</sub></td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">t<sub>1</sub>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;t<sub>1</sub>'</td>
  <td class="infrulenamecol" rowspan="3">
    (ST_Test) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">(test&nbsp;t<sub>1</sub>&nbsp;then&nbsp;t<sub>2</sub>&nbsp;else&nbsp;t<sub>3</sub>)&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;(test&nbsp;t<sub>1</sub>'&nbsp;then&nbsp;t<sub>2</sub>&nbsp;else&nbsp;t<sub>3</sub>)</td>
  <td></td>
</td>
</table></center>
<div class="paragraph"> </div>

 å½¢å¼åŒ–çš„ï¼š 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Reserved Notation</span> "t<sub>1</sub> '<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>' t<sub>2</sub>" (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 40).<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Inductive</span> <span class="id" type="var">step</span> : <span class="id" type="var">tm</span> â†’ <span class="id" type="var">tm</span> â†’ <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" type="var">ST_AppAbs</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">x</span> <span class="id" type="var">T</span> <span class="id" type="var">t<sub>12</sub></span> <span class="id" type="var">v<sub>2</sub></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">value</span> <span class="id" type="var">v<sub>2</sub></span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">app</span> (<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">T</span> <span class="id" type="var">t<sub>12</sub></span>) <span class="id" type="var">v<sub>2</sub></span>) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> [<span class="id" type="var">x</span>:=<span class="id" type="var">v<sub>2</sub></span>]<span class="id" type="var">t<sub>12</sub></span><br/>
&nbsp;&nbsp;| <span class="id" type="var">ST_App1</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>1</sub>'</span> <span class="id" type="var">t<sub>2</sub></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">t<sub>1</sub></span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> <span class="id" type="var">t<sub>1</sub>'</span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">app</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> <span class="id" type="var">app</span> <span class="id" type="var">t<sub>1</sub>'</span> <span class="id" type="var">t<sub>2</sub></span><br/>
&nbsp;&nbsp;| <span class="id" type="var">ST_App2</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">v<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> <span class="id" type="var">t<sub>2</sub>'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">value</span> <span class="id" type="var">v<sub>1</sub></span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">t<sub>2</sub></span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> <span class="id" type="var">t<sub>2</sub>'</span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">app</span> <span class="id" type="var">v<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> <span class="id" type="var">app</span> <span class="id" type="var">v<sub>1</sub></span>  <span class="id" type="var">t<sub>2</sub>'</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">ST_TestTru</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">test</span> <span class="id" type="var">tru</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span>) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> <span class="id" type="var">t<sub>1</sub></span><br/>
&nbsp;&nbsp;| <span class="id" type="var">ST_TestFls</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">test</span> <span class="id" type="var">fls</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span>) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> <span class="id" type="var">t<sub>2</sub></span><br/>
&nbsp;&nbsp;| <span class="id" type="var">ST_Test</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>1</sub>'</span> <span class="id" type="var">t<sub>2</sub></span> <span class="id" type="var">t<sub>3</sub></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">t<sub>1</sub></span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> <span class="id" type="var">t<sub>1</sub>'</span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">test</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> <span class="id" type="var">t<sub>3</sub></span>) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> (<span class="id" type="var">test</span> <span class="id" type="var">t<sub>1</sub>'</span> <span class="id" type="var">t<sub>2</sub></span> <span class="id" type="var">t<sub>3</sub></span>)<br/>
<br/>
<span class="id" type="keyword">where</span> "t<sub>1</sub> '<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>' t<sub>2</sub>" := (<span class="id" type="var">step</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span>).<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Hint</span> <span class="id" type="var">Constructors</span> <span class="id" type="var">step</span>.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Notation</span> <span class="id" type="var">multistep</span> := (<span class="id" type="var">multi</span> <span class="id" type="var">step</span>).<br/>
<span class="id" type="keyword">Notation</span> "t<sub>1</sub> '<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>' t<sub>2</sub>" := (<span class="id" type="var">multistep</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span>) (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 40).<br/>
</div>

<div class="doc">
<a name="lab212"></a><h2 class="section">ä¾‹å­</h2>

<div class="paragraph"> </div>

 ä¾‹å­ï¼š

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>)&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>)&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>&nbsp;\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>
<div class="paragraph"> </div>

</div>
    å³

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">idBB</span>&nbsp;<span class="id" type="var">idB</span>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>&nbsp;<span class="id" type="var">idB</span>
<div class="paragraph"> </div>

</div>

</div>
<div class="code code-tight">

<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example1</span> :<br/>
&nbsp;&nbsp;(<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> <span class="id" type="var">idB</span>) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">idB</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_AppAbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">v_abs</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">multi_refl</span>. <span class="id" type="keyword">Qed</span>.<br/>
</div>

<div class="doc">
ä¾‹å­ï¼š

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>)&nbsp;((\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>)&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>&nbsp;\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>
<div class="paragraph"> </div>

</div>
    å³

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">idBB</span>&nbsp;(<span class="id" type="var">idBB</span>&nbsp;<span class="id" type="var">idB</span>))&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>&nbsp;<span class="id" type="var">idB</span>.
<div class="paragraph"> </div>

</div>

</div>
<div class="code code-tight">

<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example2</span> :<br/>
&nbsp;&nbsp;(<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> (<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> <span class="id" type="var">idB</span>)) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">idB</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_App2</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_AppAbs</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_AppAbs</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">multi_refl</span>. <span class="id" type="keyword">Qed</span>.<br/>
</div>

<div class="doc">
ä¾‹å­ï¼š

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>. <span class="id" type="var">test</span>&nbsp;<span class="id" type="var">x</span>&nbsp;<span class="id" type="keyword">then</span>&nbsp;<span class="id" type="var">fls</span>&nbsp;<span class="id" type="keyword">else</span>&nbsp;<span class="id" type="var">tru</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">tru</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>&nbsp;<span class="id" type="var">fls</span>
<div class="paragraph"> </div>

</div>
    å³

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">idBB</span>&nbsp;<span class="id" type="var">notB</span>)&nbsp;<span class="id" type="var">tru</span>&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>&nbsp;<span class="id" type="var">fls</span>.
<div class="paragraph"> </div>

</div>

</div>
<div class="code code-tight">

<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example3</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">app</span> (<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> <span class="id" type="var">notB</span>) <span class="id" type="var">tru</span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">fls</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_App1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">ST_AppAbs</span>. <span class="id" type="tactic">auto</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_AppAbs</span>. <span class="id" type="tactic">auto</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_TestTru</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">multi_refl</span>. <span class="id" type="keyword">Qed</span>.<br/>
</div>

<div class="doc">
ä¾‹å­ï¼š

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>&nbsp;â†’&nbsp;<span class="id" type="var">Bool</span>. <span class="id" type="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>. <span class="id" type="var">test</span>&nbsp;<span class="id" type="var">x</span>&nbsp;<span class="id" type="keyword">then</span>&nbsp;<span class="id" type="var">fls</span>&nbsp;<span class="id" type="keyword">else</span>&nbsp;<span class="id" type="var">tru</span>)&nbsp;<span class="id" type="var">tru</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>&nbsp;<span class="id" type="var">fls</span>
<div class="paragraph"> </div>

</div>
    å³

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">idBB</span>&nbsp;(<span class="id" type="var">notB</span>&nbsp;<span class="id" type="var">tru</span>)&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span>&nbsp;<span class="id" type="var">fls</span>.
<div class="paragraph"> </div>

</div>
    ï¼ˆè¯·æ³¨æ„ï¼Œè™½ç„¶è¿™ä¸ªé¡¹å¹¶ä¸ä¼šé€šè¿‡ç±»å‹æ£€æŸ¥ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å½’çº¦çš„ã€‚ï¼‰

</div>
<div class="code code-tight">

<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example4</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> (<span class="id" type="var">app</span> <span class="id" type="var">notB</span> <span class="id" type="var">tru</span>) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">fls</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_App2</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_AppAbs</span>. <span class="id" type="tactic">auto</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_App2</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_TestTru</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">multi_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ST_AppAbs</span>. <span class="id" type="tactic">auto</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">multi_refl</span>. <span class="id" type="keyword">Qed</span>.<br/>
</div>

<div class="doc">
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a href="Smallstep.html"><span class="inlineref">Smallstep</span></a> ä¸€ç« ä¸­å®šä¹‰çš„ <span class="inlinecode"><span class="id" type="var">normalize</span></span> ç­–ç•¥æ¥ç®€åŒ–è¿™äº›è¯æ˜ã€‚ 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example1'</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> <span class="id" type="var">idB</span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">idB</span>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="var">normalize</span>. <span class="id" type="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example2'</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> (<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> <span class="id" type="var">idB</span>) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">idB</span>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="var">normalize</span>. <span class="id" type="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example3'</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">app</span> (<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> <span class="id" type="var">notB</span>) <span class="id" type="var">tru</span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">fls</span>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="var">normalize</span>. <span class="id" type="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example4'</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">app</span> <span class="id" type="var">idBB</span> (<span class="id" type="var">app</span> <span class="id" type="var">notB</span> <span class="id" type="var">tru</span>) <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">fls</span>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="var">normalize</span>. <span class="id" type="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab213"></a><h4 class="section">ç»ƒä¹ ï¼š2 æ˜Ÿ, standard (step_example5)</h4>
 è¯·åˆ†åˆ«ä½¿ç”¨å’Œä¸ä½¿ç”¨ <span class="inlinecode"><span class="id" type="var">normalize</span></span> è¯æ˜ä»¥ä¸‹å‘½é¢˜ã€‚ 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example5</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">app</span> (<span class="id" type="var">app</span> <span class="id" type="var">idBBBB</span> <span class="id" type="var">idBB</span>) <span class="id" type="var">idB</span><br/>
&nbsp;&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">idB</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;è¯·åœ¨æ­¤å¤„è§£ç­”&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Lemma</span> <span class="id" type="var">step_example5_with_normalize</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">app</span> (<span class="id" type="var">app</span> <span class="id" type="var">idBBBB</span> <span class="id" type="var">idBB</span>) <span class="id" type="var">idB</span><br/>
&nbsp;&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:6%;'><span style='letter-spacing:-.2em;'>-</span><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>&gt;</span><span style='vertical-align:15%;'>*</span></span></span> <span class="id" type="var">idB</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;è¯·åœ¨æ­¤å¤„è§£ç­”&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br/>
</div>

<span class="proofbox">&#9744;</span> 

<div class="doc">
<a name="lab214"></a><h1 class="section">å®šå‹</h1>

<div class="paragraph"> </div>

 æ¥ä¸‹æ¥æˆ‘ä»¬è€ƒè™‘ STLC çš„ç±»å‹å…³ç³»ã€‚ 
</div>

<div class="doc">
<a name="lab215"></a><h2 class="section">ä¸Šä¸‹æ–‡</h2>

<div class="paragraph"> </div>

 <b>é—®</b>ï¼šé¡¹ "<span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="var">y</span></span>" çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ

<div class="paragraph"> </div>

    <b>ç­”</b>ï¼šè¿™å–å†³äº <span class="inlinecode"><span class="id" type="var">x</span></span> å’Œ <span class="inlinecode"><span class="id" type="var">y</span></span> çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼

<div class="paragraph"> </div>

    ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ºäº†ç»™ä¸€ä¸ªé¡¹æŒ‡æ´¾ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å…³äºå…¶ä¸­è‡ªç”±å˜é‡çš„ç±»å‹çš„å‡è®¾ã€‚

<div class="paragraph"> </div>

    è¿™æŠŠæˆ‘ä»¬å¼•å‘äº†ä¸€ä¸ªä¸‰å…ƒ<b>ç±»å‹æ–­è¨€ï¼ˆtype judgementï¼‰</b>ï¼Œéå½¢å¼åŒ–åœ°å†™åš <span class="inlinecode"><span class="id" type="var">Gamma</span></span> <span class="inlinecode">&#x22A2;</span> <span class="inlinecode"><span class="id" type="var">t</span></span> <span class="inlinecode">&#x2208;</span> <span class="inlinecode"><span class="id" type="var">T</span></span>ï¼Œ
    å…¶ä¸­ <span class="inlinecode"><span class="id" type="var">Gamma</span></span> æ˜¯ä¸€ä¸ªâ€œç±»å‹ä¸Šä¸‹æ–‡ï¼ˆtyping contextï¼‰â€â€”â€”ä¸€ä¸ªå˜é‡åˆ°ä»–ä»¬çš„
    ç±»å‹çš„æ˜ å°„ã€‚ 
<div class="paragraph"> </div>

 ä½¿ç”¨é€šå¸¸åæ˜ å°„çš„è®°å·ï¼Œæˆ‘ä»¬ç”¨ <span class="inlinecode">(<span class="id" type="var">X</span></span> <span class="inlinecode"><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>&#x22A2;</span><span style='font-size:90%;'>&gt;</span></span></span></span></span> <span class="inlinecode"><span class="id" type="var">T<sub>11</sub></span>,</span> <span class="inlinecode"><span class="id" type="var">Gamma</span>)</span> æ¥è¡¨ç¤ºâ€œæ›´æ–°åå‡½æ•° <span class="inlinecode"><span class="id" type="var">Gamma</span></span>
    ä½¿å…¶ä¹Ÿå°† <span class="inlinecode"><span class="id" type="var">x</span></span> æ˜ å°„åˆ° <span class="inlinecode"><span class="id" type="var">T</span></span>â€ã€‚
</div>
<div class="code code-tight">

<span class="id" type="keyword">Definition</span> <span class="id" type="var">context</span> := <span class="id" type="var">partial_map</span> <span class="id" type="var">ty</span>.<br/>
</div>

<div class="doc">
<a name="lab216"></a><h2 class="section">ç±»å‹å…³ç³»</h2>

<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;x&nbsp;=&nbsp;T</td>
  <td class="infrulenamecol" rowspan="3">
    (T_Var) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;x&nbsp;&#x2208;&nbsp;T</td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">(x&nbsp;<span class="nowrap"><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>&#x22A2;</span><span style='font-size:90%;'>&gt;</span></span></span></span></span>&nbsp;T<sub>11</sub>&nbsp;;&nbsp;Gamma)&nbsp;&#x22A2;&nbsp;t<sub>12</sub>&nbsp;&#x2208;&nbsp;T<sub>12</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (T_Abs) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;\x:T<sub>11</sub>.t12&nbsp;&#x2208;&nbsp;T<sub>11</sub><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>T<sub>12</sub></td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;t<sub>1</sub>&nbsp;&#x2208;&nbsp;T<sub>11</sub><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>T<sub>12</sub></td>
  <td></td>
</td>
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;t<sub>2</sub>&nbsp;&#x2208;&nbsp;T<sub>11</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (T_App) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;t<sub>1</sub>&nbsp;t<sub>2</sub>&nbsp;&#x2208;&nbsp;T<sub>12</sub></td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (T_Tru) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;tru&nbsp;&#x2208;&nbsp;Bool</td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (T_Fls) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;fls&nbsp;&#x2208;&nbsp;Bool</td>
  <td></td>
</td>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;t<sub>1</sub>&nbsp;&#x2208;&nbsp;Bool&nbsp;&nbsp;&nbsp;&nbsp;Gamma&nbsp;&#x22A2;&nbsp;t<sub>2</sub>&nbsp;&#x2208;&nbsp;T&nbsp;&nbsp;&nbsp;&nbsp;Gamma&nbsp;&#x22A2;&nbsp;t<sub>3</sub>&nbsp;&#x2208;&nbsp;T</td>
  <td class="infrulenamecol" rowspan="3">
    (T_Test) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Gamma&nbsp;&#x22A2;&nbsp;test&nbsp;t<sub>1</sub>&nbsp;then&nbsp;t<sub>2</sub>&nbsp;else&nbsp;t<sub>3</sub>&nbsp;&#x2208;&nbsp;T</td>
  <td></td>
</td>
</table></center>
<div class="paragraph"> </div>

    æˆ‘ä»¬å¯ä»¥æŠŠå½¢å¦‚ <span class="inlinecode"><span class="id" type="var">Gamma</span></span> <span class="inlinecode">&#x22A2;</span> <span class="inlinecode"><span class="id" type="var">t</span></span> <span class="inlinecode">&#x2208;</span> <span class="inlinecode"><span class="id" type="var">T</span></span> çš„ä¸‰å…ƒå…³ç³»è¯»åšï¼š
    â€œåœ¨å‡è®¾ Gamma ä¸‹ï¼Œé¡¹ <span class="inlinecode"><span class="id" type="var">t</span></span> æœ‰ç±»å‹ <span class="inlinecode"><span class="id" type="var">T</span></span>ã€‚â€ 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Reserved Notation</span> "Gamma '&#x22A2;' t '&#x2208;' T" (<span class="id" type="tactic">at</span> <span class="id" type="var">level</span> 40).<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Inductive</span> <span class="id" type="var">has_type</span> : <span class="id" type="var">context</span> â†’ <span class="id" type="var">tm</span> â†’ <span class="id" type="var">ty</span> â†’ <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" type="var">T_Var</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">Gamma</span> <span class="id" type="var">x</span> <span class="id" type="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> <span class="id" type="var">x</span> = <span class="id" type="var">Some</span> <span class="id" type="var">T</span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">var</span> <span class="id" type="var">x</span> &#x2208; <span class="id" type="var">T</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">T_Abs</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">Gamma</span> <span class="id" type="var">x</span> <span class="id" type="var">T<sub>11</sub></span> <span class="id" type="var">T<sub>12</sub></span> <span class="id" type="var">t<sub>12</sub></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">x</span> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>&#x22A2;</span><span style='font-size:90%;'>&gt;</span></span></span></span> <span class="id" type="var">T<sub>11</sub></span> ; <span class="id" type="var">Gamma</span>) &#x22A2; <span class="id" type="var">t<sub>12</sub></span> &#x2208; <span class="id" type="var">T<sub>12</sub></span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">T<sub>11</sub></span> <span class="id" type="var">t<sub>12</sub></span> &#x2208; <span class="id" type="var">Arrow</span> <span class="id" type="var">T<sub>11</sub></span> <span class="id" type="var">T<sub>12</sub></span><br/>
&nbsp;&nbsp;| <span class="id" type="var">T_App</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">T<sub>11</sub></span> <span class="id" type="var">T<sub>12</sub></span> <span class="id" type="var">Gamma</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">t<sub>1</sub></span> &#x2208; <span class="id" type="var">Arrow</span> <span class="id" type="var">T<sub>11</sub></span> <span class="id" type="var">T<sub>12</sub></span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">t<sub>2</sub></span> &#x2208; <span class="id" type="var">T<sub>11</sub></span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">app</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> &#x2208; <span class="id" type="var">T<sub>12</sub></span><br/>
&nbsp;&nbsp;| <span class="id" type="var">T_Tru</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">Gamma</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">tru</span> &#x2208; <span class="id" type="var">Bool</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">T_Fls</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">Gamma</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">fls</span> &#x2208; <span class="id" type="var">Bool</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">T_Test</span> : <span style='font-size:120%;'>&forall;</span><span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> <span class="id" type="var">t<sub>3</sub></span> <span class="id" type="var">T</span> <span class="id" type="var">Gamma</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">t<sub>1</sub></span> &#x2208; <span class="id" type="var">Bool</span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">t<sub>2</sub></span> &#x2208; <span class="id" type="var">T</span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">t<sub>3</sub></span> &#x2208; <span class="id" type="var">T</span> â†’<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Gamma</span> &#x22A2; <span class="id" type="var">test</span> <span class="id" type="var">t<sub>1</sub></span> <span class="id" type="var">t<sub>2</sub></span> <span class="id" type="var">t<sub>3</sub></span> &#x2208; <span class="id" type="var">T</span><br/>
<br/>
<span class="id" type="keyword">where</span> "Gamma '&#x22A2;' t '&#x2208;' T" := (<span class="id" type="var">has_type</span> <span class="id" type="var">Gamma</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span>).<br/><hr class='doublespaceincode'/>
<span class="id" type="keyword">Hint</span> <span class="id" type="var">Constructors</span> <span class="id" type="var">has_type</span>.<br/>
</div>

<div class="doc">
<a name="lab217"></a><h2 class="section">ä¾‹å­</h2>

</div>
<div class="code code-space">

<br/>
<span class="id" type="keyword">Example</span> <span class="id" type="var">typing_example_1</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">empty</span> &#x22A2; <span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">Bool</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>) &#x2208; <span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">T_Abs</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">T_Var</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>
</div>

<div class="doc">
è¯·æ³¨æ„ï¼Œç”±äºæˆ‘ä»¬åœ¨æç¤ºæ•°æ®åº“ä¸­æ·»åŠ äº† <span class="inlinecode"><span class="id" type="var">has_type</span></span> æ„é€ å­ï¼Œå› æ­¤ <span class="inlinecode"><span class="id" type="tactic">auto</span></span>
    å°†å¯ä»¥ç›´æ¥è§£å†³è¿™ä¸ªè¯æ˜ã€‚
</div>
<div class="code code-tight">

<span class="id" type="keyword">Example</span> <span class="id" type="var">typing_example_1'</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">empty</span> &#x22A2; <span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">Bool</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>) &#x2208; <span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">auto</span>. <span class="id" type="keyword">Qed</span>.<br/>
</div>

<div class="doc">
æ›´å¤šä¾‹å­ï¼š

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">empty</span>&nbsp;&#x22A2;&nbsp;\<span class="id" type="var">x</span>:<span class="id" type="var">A</span>. \<span class="id" type="var">y</span>:<span class="id" type="var">A</span>â†’<span class="id" type="var">A</span>. <span class="id" type="var">y</span>&nbsp;(<span class="id" type="var">y</span>&nbsp;<span class="id" type="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x2208;&nbsp;<span class="id" type="var">A</span>&nbsp;â†’&nbsp;(<span class="id" type="var">A</span>â†’<span class="id" type="var">A</span>)&nbsp;â†’&nbsp;<span class="id" type="var">A</span>.
<div class="paragraph"> </div>

</div>

</div>
<div class="code code-tight">
<div class="togglescript" id="proofcontrol1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')"><span class="show"></span></div>
<div class="proofscript" id="proof1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')">

<br/>
<span class="id" type="keyword">Example</span> <span class="id" type="var">typing_example_2</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">empty</span> &#x22A2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">Bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">y</span> (<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">app</span> (<span class="id" type="var">var</span> <span class="id" type="var">y</span>) (<span class="id" type="var">app</span> (<span class="id" type="var">var</span> <span class="id" type="var">y</span>) (<span class="id" type="var">var</span> <span class="id" type="var">x</span>))))) &#x2208;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> (<span class="id" type="var">Arrow</span> (<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>) <span class="id" type="var">Bool</span>)).<br/>
<span class="id" type="keyword">Proof</span> <span class="id" type="keyword">with</span> <span class="id" type="tactic">auto</span> <span class="id" type="keyword">using</span> <span class="id" type="var">update_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">T_Abs</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">T_Abs</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">T_App</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">T_Var</span>...<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">T_App</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">T_Var</span>...<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">T_Var</span>...<br/>
<span class="id" type="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a name="lab218"></a><h4 class="section">ç»ƒä¹ ï¼š2 æ˜Ÿ, standard, optional (typing_example_2_full)</h4>
 è¯·åœ¨ä¸ä½¿ç”¨ <span class="inlinecode"><span class="id" type="tactic">auto</span></span>ï¼Œ<span class="inlinecode"><span class="id" type="tactic">eauto</span></span>ï¼Œ<span class="inlinecode"><span class="id" type="tactic">eapply</span></span>ï¼ˆæˆ–è€… <span class="inlinecode">...</span>ï¼‰çš„æƒ…å†µä¸‹è¯æ˜åŒä¸€ä¸ªå‘½é¢˜ï¼š 
</div>
<div class="code code-tight">

<span class="id" type="keyword">Example</span> <span class="id" type="var">typing_example_2_full</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">empty</span> &#x22A2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">Bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">y</span> (<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">app</span> (<span class="id" type="var">var</span> <span class="id" type="var">y</span>) (<span class="id" type="var">app</span> (<span class="id" type="var">var</span> <span class="id" type="var">y</span>) (<span class="id" type="var">var</span> <span class="id" type="var">x</span>))))) &#x2208;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> (<span class="id" type="var">Arrow</span> (<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>) <span class="id" type="var">Bool</span>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;è¯·åœ¨æ­¤å¤„è§£ç­”&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br/>
</div>

<span class="proofbox">&#9744;</span> 
<div class="doc less-space">
<div class="paragraph"> </div>

<a name="lab219"></a><h4 class="section">ç»ƒä¹ ï¼š2 æ˜Ÿ, standard (typing_example_3)</h4>
 è¯·å½¢å¼åŒ–åœ°è¯æ˜ä»¥ä¸‹ç±»å‹å¯¼å‡ºå¼æˆç«‹ï¼š 
<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">empty</span>&nbsp;&#x22A2;&nbsp;\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">B</span>. \<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>â†’<span class="id" type="var">Bool</span>. \<span class="id" type="var">z</span>:<span class="id" type="var">Bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">y</span>&nbsp;(<span class="id" type="var">x</span>&nbsp;<span class="id" type="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x2208;&nbsp;<span class="id" type="var">T</span>.
<div class="paragraph"> </div>

</div>

</div>
<div class="code code-tight">

<span class="id" type="keyword">Example</span> <span class="id" type="var">typing_example_3</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&exist;</span><span class="id" type="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">empty</span> &#x22A2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">x</span> (<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">y</span> (<span class="id" type="var">Arrow</span> <span class="id" type="var">Bool</span> <span class="id" type="var">Bool</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">z</span> <span class="id" type="var">Bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">app</span> (<span class="id" type="var">var</span> <span class="id" type="var">y</span>) (<span class="id" type="var">app</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>) (<span class="id" type="var">var</span> <span class="id" type="var">z</span>)))))) &#x2208;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">T</span>.<br/>
<span class="id" type="keyword">Proof</span> <span class="id" type="keyword">with</span> <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;è¯·åœ¨æ­¤å¤„è§£ç­”&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br/>
</div>

<span class="proofbox">&#9744;</span> 
<div class="doc less-space">
<div class="paragraph"> </div>

 æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯æ˜æŸäº›é¡¹<b>ä¸</b>å¯å®šå‹ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å½¢å¼åŒ–åœ°æ£€æŸ¥å¯¹äº
    <span class="inlinecode">\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>.</span> <span class="inlinecode">\<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>,</span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode"><span class="id" type="var">y</span></span> æ¥è¯´æ²¡æœ‰ç±»å‹å¯¼å‡ºå¼ä¸ºå…¶å®šå‹â€”â€”ä¹Ÿå³ï¼Œ

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;Â¬<span style='font-size:120%;'>&exist;</span><span class="id" type="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">empty</span>&nbsp;&#x22A2;&nbsp;\<span class="id" type="var">x</span>:<span class="id" type="var">Bool</span>. \<span class="id" type="var">y</span>:<span class="id" type="var">Bool</span>,&nbsp;<span class="id" type="var">x</span>&nbsp;<span class="id" type="var">y</span>&nbsp;&#x2208;&nbsp;<span class="id" type="var">T</span>.
<div class="paragraph"> </div>

</div>

</div>
<div class="code code-tight">
<div class="togglescript" id="proofcontrol2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')"><span class="show"></span></div>
<div class="proofscript" id="proof2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')">

<br/>
<span class="id" type="keyword">Example</span> <span class="id" type="var">typing_nonexample_1</span> :<br/>
&nbsp;&nbsp;Â¬<span style='font-size:120%;'>&exist;</span><span class="id" type="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">empty</span> &#x22A2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">Bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">y</span> <span class="id" type="var">Bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">app</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>) (<span class="id" type="var">var</span> <span class="id" type="var">y</span>)))) &#x2208;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">T</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">Hc</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;<span class="inlinecode"><span class="id" type="tactic">clear</span></span>&nbsp;tactic&nbsp;is&nbsp;useful&nbsp;here&nbsp;for&nbsp;tidying&nbsp;away&nbsp;bits&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;context&nbsp;that&nbsp;we're&nbsp;not&nbsp;going&nbsp;to&nbsp;need&nbsp;again.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H<sub>5</sub></span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H<sub>5</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H<sub>4</sub></span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H<sub>4</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H<sub>2</sub></span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H<sub>5</sub></span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H<sub>5</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H<sub>1</sub></span>. <span class="id" type="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a name="lab220"></a><h4 class="section">ç»ƒä¹ ï¼š3 æ˜Ÿ, standard, optional (typing_nonexample_3)</h4>
 å¦ä¸€ä¸ªä¾‹å­ï¼š

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;Â¬(<span style='font-size:120%;'>&exist;</span><span class="id" type="var">S</span>&nbsp;<span class="id" type="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">empty</span>&nbsp;&#x22A2;&nbsp;\<span class="id" type="var">x</span>:<span class="id" type="var">S</span>. <span class="id" type="var">x</span>&nbsp;<span class="id" type="var">x</span>&nbsp;&#x2208;&nbsp;<span class="id" type="var">T</span>).
<div class="paragraph"> </div>

</div>

</div>
<div class="code code-tight">

<span class="id" type="keyword">Example</span> <span class="id" type="var">typing_nonexample_3</span> :<br/>
&nbsp;&nbsp;Â¬(<span style='font-size:120%;'>&exist;</span><span class="id" type="var">S</span> <span class="id" type="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">empty</span> &#x22A2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">abs</span> <span class="id" type="var">x</span> <span class="id" type="var">S</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">app</span> (<span class="id" type="var">var</span> <span class="id" type="var">x</span>) (<span class="id" type="var">var</span> <span class="id" type="var">x</span>))) &#x2208;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">T</span>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;è¯·åœ¨æ­¤å¤„è§£ç­”&nbsp;*)</span> <span class="id" type="var">Admitted</span>.<br/>
</div>

<span class="proofbox">&#9744;</span> 
<div class="code code-tight">

<span class="id" type="keyword">End</span> <span class="id" type="var">STLC</span>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;Fri&nbsp;Jul&nbsp;19&nbsp;00:33:15&nbsp;UTC&nbsp;2019&nbsp;*)</span><br/>
</div>
</div>



</div>

</body>
</html>